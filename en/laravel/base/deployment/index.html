<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-laravel docs-version-current docs-doc-page docs-doc-id-base/deployment" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">生产部署 | Xin Admin</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://xin-admin.github.io/en/laravel/base/deployment"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-laravel-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-laravel-current"><meta data-rh="true" property="og:title" content="生产部署 | Xin Admin"><meta data-rh="true" name="description" content="当您准备好将 XinAdmin 应用程序部署到生产环境时，您可以采取一些重要措施来确保您的应用程序尽可能高效地运行。"><meta data-rh="true" property="og:description" content="当您准备好将 XinAdmin 应用程序部署到生产环境时，您可以采取一些重要措施来确保您的应用程序尽可能高效地运行。"><link data-rh="true" rel="icon" href="https://file.xinadmin.cn/file/favicons.ico"><link data-rh="true" rel="canonical" href="https://xin-admin.github.io/en/laravel/base/deployment"><link data-rh="true" rel="alternate" href="https://xin-admin.github.io/laravel/base/deployment" hreflang="zh"><link data-rh="true" rel="alternate" href="https://xin-admin.github.io/en/laravel/base/deployment" hreflang="en"><link data-rh="true" rel="alternate" href="https://xin-admin.github.io/laravel/base/deployment" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://1RS3CBSQ8Q-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"基础教程","item":"https://xin-admin.github.io/en/laravel/category/基础教程"},{"@type":"ListItem","position":2,"name":"生产部署","item":"https://xin-admin.github.io/en/laravel/base/deployment"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="Xin Admin" href="/en/opensearch.xml"><link rel="stylesheet" href="/en/assets/css/styles.76c95f84.css">
<script src="/en/assets/js/runtime~main.b3d70017.js" defer="defer"></script>
<script src="/en/assets/js/main.b7cc90e4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://file.xinadmin.cn/file/favicons.ico"><link rel="preload" as="image" href="../img/img.png"><link rel="preload" as="image" href="../img/img1.png"><link rel="preload" as="image" href="../img/img2.png"><link rel="preload" as="image" href="../img/img3.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_r4aN" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="https://file.xinadmin.cn/file/favicons.ico" alt="Xin Admin" class="themedComponent_sn8X themedComponent--light_K4ys"><img src="https://file.xinadmin.cn/file/favicons.ico" alt="Xin Admin" class="themedComponent_sn8X themedComponent--dark_NAhA"></div><b class="navbar__title text--truncate">Xin Admin</b></a><a class="navbar__item navbar__link" href="/en/introduce/intro">Introduction</a><a class="navbar__item navbar__link" href="/en/ui/intro">UI Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/laravel/intro">Laravel</a><a class="navbar__item navbar__link" href="/en/thinkphp/intro">ThinkPHP</a><a class="navbar__item navbar__link" href="/en/taro/intro">Taro</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/ui/intro">Next</a><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/xin-admin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_ex1t"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/laravel/base/deployment" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">中文</a></li><li><a href="/en/laravel/base/deployment" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><div class="navbarSearchContainer_Uzhx"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><div class="toggle_Qu_C colorModeToggle_iKZ8"><button class="clean-btn toggleButton_k2rY toggleButtonDisabled_ziLQ" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_fl63 lightToggleIcon_zqCm"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_fl63 darkToggleIcon_P9AP"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_fl63 systemToggleIcon_CCka"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_sWR8"><div class="docsWrapper_VFyM"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_UTJh" type="button"></button><div class="docRoot_OvL8"><aside class="theme-doc-sidebar-container docSidebarContainer_c5KP"><div class="sidebarViewport_ktCj"><div class="sidebar_OxMC"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Laeh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/laravel/intro">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/laravel/dev">环境准备</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/laravel/license">License</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/en/laravel/start">快速上手</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/en/laravel/category/基础教程">基础教程</a><button aria-label="Collapse sidebar category &#x27;基础教程&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/interaction">请求响应</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/route">路由</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/security">安全认证</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/auth">菜单权限</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/crud">CRUD 代码生成</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/dict">数据字典</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/multilingual">多语言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/file">文件管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/setting">系统设置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/laravel/base/deployment">生产部署</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/swagger">Swagger 文档</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/laravel/base/swoole">高性能服务 Swoole</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_JR4e"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z_jf"><div class="docItemContainer_shau"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z5uf" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_UU08"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/en/laravel/category/基础教程"><span>基础教程</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">生产部署</span></li></ul></nav><div class="tocCollapsible_mG_x theme-doc-toc-mobile tocMobile_krJ4"><button type="button" class="clean-btn tocCollapsibleButton_jtcT">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>生产部署</h1></header>
<p>当您准备好将 <code>XinAdmin</code> 应用程序部署到<code>生产环境</code>时，您可以采取一些重要措施来确保您的应用程序尽可能高效地运行。
在本文档中，我们将介绍一些很好的起点，以确保您的 <code>XinAdmin</code> 应用程序得到正确部署。
生产环境中建议使用稳定性强、便于部署的<a href="https://www.bt.cn/" target="_blank" rel="noopener noreferrer">宝塔面板</a>，这样可以为你省去一大堆配置问题，也可以避免不必要的异常。
本章中默认使用宝塔作为生产环境，如果你不知道宝塔面板怎么安装，请移步<a href="https://www.bt.cn/" target="_blank" rel="noopener noreferrer">宝塔官网</a>。</p>
<div class="theme-admonition theme-admonition-info admonition_Qz9D alert alert--info"><div class="admonitionHeading_Rktb"><span class="admonitionIcon_u40I"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_zevy"><p>在前后端分离开发的模式下，我们建议你保持本地环境作为开发环境，并通过 <code>php artisan serve</code> 和 <code>pnpm run dev</code> 来启动本地项目作为开发环境，本章节主要讲解程序开发完成后部署事项。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_N0dP" id="环境要求">环境要求<a href="#环境要求" class="hash-link" aria-label="Direct link to 环境要求" title="Direct link to 环境要求">​</a></h2>
<p>为了使 XinAdmin 应用正常运行，请确保你的服务器安装了以下应用与扩展：</p>
<ul>
<li>Nginx</li>
<li>Redis</li>
<li>Mysql &gt;= 5.7</li>
<li>PHP &gt;= 8.2</li>
<li>PHP 扩展：Ctype PHP、 cURL PHP 扩展 、DOM PHP 扩展 、Fileinfo PHP 扩展 、Filter PHP 扩展 、Hash PHP 扩展 、Mbstring PHP 扩展 、OpenSSL PHP 扩展 、PCRE PHP 扩展 、PDO PHP 扩展 、Session PHP 扩展 、Tokenizer PHP 扩展 、XML PHP 扩展</li>
<li>如果需要使用 Swoole 来启动服务，还需要安装 Swoole 扩展。</li>
</ul>
<div style="margin:20px 0"><img src="../img/img.png" alt="" style="height:400px;margin-right:50px"><img src="../img/img1.png" alt="" style="height:400px"></div>
<p>以宝塔为例，你可以在宝塔面板的应用商店中安装这些应用，安装完成 PHP 之后，在 PHP 的设置中安装所需要的扩展。</p>
<p>当然你也可以根据自己的需求来搭建自己的的生产环境，对于新手而言，宝塔面板更简单快捷。</p>
<h2 class="anchor anchorWithStickyNavbar_N0dP" id="分离式部署">分离式部署<a href="#分离式部署" class="hash-link" aria-label="Direct link to 分离式部署" title="Direct link to 分离式部署">​</a></h2>
<p>在生产环境中，如果你希望 XinAdmin 应用程序分别搭建在两个服务器中，你可以使用 Nginx 来分别代理 前端和后端应用，或者使用不同的服务器来运行它们。</p>
<p>我们也推荐你这样做，因为这样部署不会影响部署后的代码结构，更有利于静态资源的维护。</p>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="站点创建">站点创建<a href="#站点创建" class="hash-link" aria-label="Direct link to 站点创建" title="Direct link to 站点创建">​</a></h3>
<p>在分离式部署的情况下，你需要创建两个站点，一个用来存放<code>PHP代码</code>作为<code>API服务</code>，一个用来存放前端打包后的<code>静态资源</code>。</p>
<p>如果你熟悉 <code>Nginx</code> 的配置，你可以自己来配置 <code>Nginx</code> 站点，下面是用宝塔来创建两个不同的站点。</p>
<div style="margin:20px 0"><img src="../img/img2.png" alt="" style="height:400px;margin-right:50px"><img src="../img/img3.png" alt="" style="height:400px"></div>
<ul>
<li>
<p>实际应用中，你需要将你的域名解析到当前服务器的 IP 地址中。如图例，它会为你自动创建 <code>Nginx</code> 站点，并且创建一个空数据库。</p>
</li>
<li>
<p>请确保你准备了你项目的<code>目录</code>、<code>数据库</code>、<code>域名</code>等基础操作。</p>
</li>
<li>
<p>你也可以使用<code>FTP</code>或者<code>Git</code>来管理你的代码。</p>
</li>
<li>
<p>你需要将你的后端代码和前端代码分别部署到不同的服务器中。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="后端部署">后端部署<a href="#后端部署" class="hash-link" aria-label="Direct link to 后端部署" title="Direct link to 后端部署">​</a></h3>
<ol>
<li>通过 Git 来将你的后端代码上传到服务器中。</li>
<li>如果你使用 Git，它可能已经忽略了依赖文件目录<code>vendor</code>，你需要使用<code>composer</code>安装依赖。</li>
<li>配置<code>.env</code> 环境变量中的数据库信息以及其它相关配置。</li>
<li>执行 <code>php artisan migrate</code> 来迁移数据库，或者直接导入 <code>SQL</code> 文件。</li>
<li>执行 <code>php artisan db:seed</code> 来填充数据库默认数据，或者直接导入 <code>SQL</code> 文件。</li>
<li>执行 <code>php artisan key:generate --ansi</code> 来生成你<code>APP</code>的唯一密钥。</li>
<li>执行 <code>php artisan storage:link</code> 来创建文件储存器链接。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="前端部署">前端部署<a href="#前端部署" class="hash-link" aria-label="Direct link to 前端部署" title="Direct link to 前端部署">​</a></h3>
<ol>
<li>修改前端项目目录中的<code>.env</code> 文件，将<code>DOMAIN</code> 修改为你后端绑定的域名。</li>
<li>在本地前端项目目录中执行 <code>pnpm run build</code> 来打包前端依赖。</li>
<li>打包后的静态资源会存放在 <code>dist</code> 目录中，请将<code>dist</code>目录中的文件上传到服务器的前端项目目录中。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="nginx-配置">Nginx 配置<a href="#nginx-配置" class="hash-link" aria-label="Direct link to Nginx 配置" title="Direct link to Nginx 配置">​</a></h3>
<p><code>XinAdmin</code> 的后端应用中，你还要确保站点配置中包含以下的配置，你的 <code>Web</code> 站点 的所有请求都会由 <code>Laravel</code> 应用程序来处理，站点默认支持跨域请求。</p>
<div class="language-nginx codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-nginx codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try_files $uri $uri/ /index.php?$query_string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p><code>XinAdmin</code> 的前端应用中，由于 <code>React</code> 是大型的单页面应用，你需要确保站点配置中包含以下的配置，所有的路由统一进入 <code>index.html</code> 文件。</p>
<div class="language-nginx codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-nginx codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try_files $uri $uri/ /index.html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_N0dP" id="单站点部署">单站点部署<a href="#单站点部署" class="hash-link" aria-label="Direct link to 单站点部署" title="Direct link to 单站点部署">​</a></h2>
<p><code>XinAdmin</code> 也支持将项目部署在<code>单站点</code>之下，你可以通过以下步骤来将你的<code>XinAdmin</code>应用程序部署到一个站点的目录之下。</p>
<p>与分离式部署一样，你需要创建一个站点并且新建一个空数据库。</p>
<img src="../img/img2.png" alt="" style="height:400px;margin:20px 0">
<p>通过以下步骤将 XinAdmin 后端程序部署到站点中：</p>
<ol>
<li>通过 Git 来将你的后端代码上传到服务器中。</li>
<li>如果你使用 Git，它可能已经忽略了依赖文件目录<code>vendor</code>，你需要使用<code>composer</code>安装依赖。</li>
<li>配置<code>.env</code> 环境变量中的数据库信息以及其它相关配置。</li>
<li>执行 <code>php artisan migrate</code> 来迁移数据库，或者直接导入 <code>SQL</code> 文件。</li>
<li>执行 <code>php artisan db:seed</code> 来填充数据库默认数据，或者直接导入 <code>SQL</code> 文件。</li>
<li>执行 <code>php artisan key:generate --ansi</code> 来生成你<code>APP</code>的唯一密钥。</li>
<li>执行 <code>php artisan storage:link</code> 来创建文件储存器链接。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="打包前端项目">打包前端项目<a href="#打包前端项目" class="hash-link" aria-label="Direct link to 打包前端项目" title="Direct link to 打包前端项目">​</a></h3>
<p>在单站点部署的情况下，为了使前端资源不污染后端项目资源，你需要修改 UmiJs 的打包配置，来将前端应用的静态资源文件放置在<code>assets</code>目录中。</p>
<ol>
<li>
<p>请在前端项目目录中的<code>.umirc.ts</code> 文件中修改以下配置：</p>
<div class="language-js codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-js codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 前端项目目录 .umirc.ts 文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 如果前端文件放在后端 public 下面可开启</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">publicPath</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;/assets/&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li>
<p>修改前端项目目录中的<code>.env</code> 文件，将<code>DOMAIN</code> 修改为<code>/index.php</code> 。</p>
<div class="language-markdown codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-markdown codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> DOMAIN 请求地址，在开发环境中使用本地服务器地址，在线上部署时：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 如果将前端文件与后端放在同一域名下，请使用 /index.php</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 如果前端文件与后端分别放在两个域名之下，请使用服务器地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DOMAIN=&#x27;/index.php&#x27;</span><br></span></code></pre></div></div>
</li>
<li>
<p>在本地前端项目目录中执行 <code>pnpm run build</code> 来打包前端依赖。</p>
</li>
<li>
<p>在打包后的静态资源中，你需要将<code>dist</code>目录中的文件上传到站点的<code>public\assets</code>目录中，如果不存在这个目录请新建。</p>
</li>
<li>
<p>将<code>index.html</code>文件单独移出到 <code>public</code> 目录中。</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="nginx-配置-1">Nginx 配置<a href="#nginx-配置-1" class="hash-link" aria-label="Direct link to Nginx 配置" title="Direct link to Nginx 配置">​</a></h3>
<p>你还需要在你的站点的配置文件中，将<code>index.html</code>设置为默认文件,并添加以下配置：</p>
<div class="language-nginx codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-nginx codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token plain">index index.html index.htm default.htm default.html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  try_files $uri $uri/ /index.html;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>这样你的应用就可以通过绑定的域名正常访问了。</p>
<p>站点的 UI 会默认代理到<code>index.html</code>文件。</p>
<p>所有的 API 请求都会通过<code>index.php</code>文件传输给后端 Laravel 应用。</p>
<h2 class="anchor anchorWithStickyNavbar_N0dP" id="配置优化">配置优化<a href="#配置优化" class="hash-link" aria-label="Direct link to 配置优化" title="Direct link to 配置优化">​</a></h2>
<p>将应用程序部署到生产环境时，应缓存各种文件，包括配置、事件、路由和视图。</p>
<p>Laravel 提供了一个方便的 Artisan 命令，可以缓存所有这些文件。</p>
<p>此命令通常应在应用程序的部署过程中调用：optimize</p>
<div class="language-shell codeBlockContainer_Mm6A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_ShqB"><pre tabindex="0" class="prism-code language-shell codeBlock_d8Dt thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_ltBy"><span class="token-line" style="color:#393A34"><span class="token plain">php artisan optimize</span><br></span></code></pre></div></div>
<p>具体命令内容可以参考 <a href="https://laravel.com/docs/12.x/deployment#optimization" target="_blank" rel="noopener noreferrer">Laravel 部署</a> 章节。</p>
<div class="theme-admonition theme-admonition-info admonition_Qz9D alert alert--info"><div class="admonitionHeading_Rktb"><span class="admonitionIcon_u40I"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_zevy"><p>如果你的服务器配置不错，<code>Umi</code> 也支持 SSR（服务器渲染）以提供更快的访问速度，具体参考 <code>UmiJs</code> 文档。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_N0dP" id="使用-swoole">使用 Swoole<a href="#使用-swoole" class="hash-link" aria-label="Direct link to 使用 Swoole" title="Direct link to 使用 Swoole">​</a></h3>
<p>如果你希望你的项目使用 Swoole 来处理请求，你可以参考 <code>Swoole 服务</code>。</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/laravel/base/setting"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">系统设置</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/laravel/base/swagger"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Swagger 文档</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_zioB thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#环境要求" class="table-of-contents__link toc-highlight">环境要求</a></li><li><a href="#分离式部署" class="table-of-contents__link toc-highlight">分离式部署</a><ul><li><a href="#站点创建" class="table-of-contents__link toc-highlight">站点创建</a></li><li><a href="#后端部署" class="table-of-contents__link toc-highlight">后端部署</a></li><li><a href="#前端部署" class="table-of-contents__link toc-highlight">前端部署</a></li><li><a href="#nginx-配置" class="table-of-contents__link toc-highlight">Nginx 配置</a></li></ul></li><li><a href="#单站点部署" class="table-of-contents__link toc-highlight">单站点部署</a><ul><li><a href="#打包前端项目" class="table-of-contents__link toc-highlight">打包前端项目</a></li><li><a href="#nginx-配置-1" class="table-of-contents__link toc-highlight">Nginx 配置</a></li></ul></li><li><a href="#配置优化" class="table-of-contents__link toc-highlight">配置优化</a><ul><li><a href="#使用-swoole" class="table-of-contents__link toc-highlight">使用 Swoole</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/introduce/intro">Project Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/en/ui/intro">XinAdmin Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/en/laravel/intro">Laravel Documentation </a></li><li class="footer__item"><a class="footer__link-item" href="/en/thinkphp/intro">ThinkPHP Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/en/taro/intro">Taro Documentation</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Related links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://ant.design" target="_blank" rel="noopener noreferrer" class="footer__link-item" logo="[object Object]">Ant Design<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://laravel.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Laravel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.thinkphp.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">ThinkPHP<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.taro.zone" target="_blank" rel="noopener noreferrer" class="footer__link-item">Taro<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://react.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">React<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/xin-admin" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://gitee.cn/xin-admin" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">XinAdmin BBS<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://xineny.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">小刘同学<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">legislation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">License<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://bbs.xinadmin.cn" target="_blank" rel="noopener noreferrer" class="footer__link-item">公安网备案<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_xgdr"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. with 小刘同学. </div></div></div></footer></div>
</body>
</html>
"use strict";(self.webpackChunkxin_documentation=self.webpackChunkxin_documentation||[]).push([[9577],{1543:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"stores","title":"\u72b6\u6001\u7ba1\u7406","description":"XinAdmin \u4f7f\u7528 zustand \u8fdb\u884c\u5168\u5c40\u7684\u72b6\u6001\u7ba1\u7406\uff0cZustand \u662f\u4e00\u4e2a\u8f7b\u91cf\u3001\u73b0\u4ee3\u7684\u72b6\u6001\u7ba1\u7406\u5e93\u3002","source":"@site/docs-ui/stores.md","sourceDirName":".","slug":"/stores","permalink":"/ui/stores","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":11,"frontMatter":{"sidebar_position":11},"sidebar":"introduceSidebar","previous":{"title":"\u8bf7\u6c42\u54cd\u5e94","permalink":"/ui/request"},"next":{"title":"CSS \u6837\u5f0f","permalink":"/ui/css"}}');var s=r(3420),o=r(5404);const i={sidebar_position:11},c="\u72b6\u6001\u7ba1\u7406",a={},d=[{value:"Stores \u76ee\u5f55",id:"stores-\u76ee\u5f55",level:3},{value:"Store \u521d\u59cb\u5316",id:"store-\u521d\u59cb\u5316",level:3},{value:"Store \u4f7f\u7528",id:"store-\u4f7f\u7528",level:3}];function l(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\u72b6\u6001\u7ba1\u7406",children:"\u72b6\u6001\u7ba1\u7406"})}),"\n",(0,s.jsxs)(n.p,{children:["XinAdmin \u4f7f\u7528 ",(0,s.jsx)(n.a,{href:"https://zustand.docs.pmnd.rs/",children:"zustand"})," \u8fdb\u884c\u5168\u5c40\u7684\u72b6\u6001\u7ba1\u7406\uff0c",(0,s.jsx)(n.code,{children:"Zustand"})," \u662f\u4e00\u4e2a\u8f7b\u91cf\u3001\u73b0\u4ee3\u7684\u72b6\u6001\u7ba1\u7406\u5e93\u3002"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u8f7b\u91cf\uff0c\u4f7f\u7528\u7b80\u5355\uff0c\u4f53\u79ef\u6781\u8f7b\uff0c5\u5206\u949f\u4e0a\u624b\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u8de8\u5e94\u7528/\u8de8\u6846\u67b6 \u72b6\u6001\u7ba1\u7406\u53ca\u5171\u4eab\uff0c\u5bf9 Iframe\u3001\u5fae\u524d\u7aef\u3001\u6a21\u5757\u5316\u3001\u7ec4\u4ef6\u5316\u7b49\u4e1a\u52a1\u573a\u666f\uff0c\u63d0\u4f9b\u8de8\u5e94\u7528\u3001\u8de8\u6846\u67b6\u7684\u72b6\u6001\u7ba1\u7406\u80fd\u529b\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u62d3\u5c55\u6027\u597d \uff0c\u652f\u6301\u57fa\u4e8emiddleware\u6269\u5c55 store\uff0c\u4f60\u53ef\u4ee5\u7528\u4efb\u4f55\u4f60\u559c\u6b22\u7684\u65b9\u5f0f\u6765\u6784\u5efa\u4f60\u7684 store\u3002"}),"\n",(0,s.jsx)(n.li,{children:"\u5b8c\u5907\u7684typescript\u7c7b\u578b\u63a8\u5bfc"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"import { create } from 'zustand'\r\n\r\ntype Store = {\r\n  count: number\r\n  inc: () => void\r\n}\r\n\r\nconst useStore = create<Store>()((set) => ({\r\n  count: 1,\r\n  inc: () => set((state) => ({ count: state.count + 1 })),\r\n}))\r\n\r\nfunction Counter() {\r\n  const { count, inc } = useStore()\r\n  return (\r\n    <div>\r\n      <span>{count}</span>\r\n      <button onClick={inc}>one up</button>\r\n    </div>\r\n  )\r\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"stores-\u76ee\u5f55",children:"Stores \u76ee\u5f55"}),"\n",(0,s.jsx)(n.p,{children:"stores \u610f\u4e3a\u72b6\u6001\u5546\u5e97\uff0cXinAdmin \u6240\u6709\u7684\u72b6\u6001\u548c\u64cd\u4f5c\u72b6\u6001\u7684\u65b9\u6cd5\uff0c\u90fd\u653e\u5728\u4e86 \\src\\stores \u76ee\u5f55\u4e0b\u3002\u5e76\u4e14\u5168\u5c40\u7684\u4e3b\u9898\u914d\u7f6e\u4e5f\u901a\u8fc7\u5b83\u6765\u7ba1\u7406\uff0c\u5e76\u4e14\u81ea\u52a8\u50a8\u5b58\u5230 localStorage \u4e2d\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"store-\u521d\u59cb\u5316",children:"Store \u521d\u59cb\u5316"}),"\n",(0,s.jsx)(n.p,{children:"\u521b\u5efa\u7684 store \u662f\u4e00\u4e2a hook\uff0c\u4f60\u53ef\u4ee5\u653e\u4efb\u4f55\u4e1c\u897f\u5230\u91cc\u9762\uff1a\u57fa\u7840\u53d8\u91cf\uff0c\u5bf9\u8c61\u3001\u51fd\u6570\uff0c\u72b6\u6001\u5fc5\u987b\u4e0d\u53ef\u6539\u53d8\u5730\u66f4\u65b0\uff0cset \u51fd\u6570\u5408\u5e76\u72b6\u6001\u4ee5\u5b9e\u73b0\u72b6\u6001\u66f4\u65b0\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { create } from 'zustand'\r\n\r\nconst useBearStore = create((set) => ({\r\n  bears: 0,\r\n  increasePopulation: () => set((state) => ({ bears: state.bears + 1 })),\r\n  removeAllBears: () => set({ bears: 0 }),\r\n}))\n"})}),"\n",(0,s.jsx)(n.h3,{id:"store-\u4f7f\u7528",children:"Store \u4f7f\u7528"}),"\n",(0,s.jsx)(n.p,{children:"\u53ef\u4ee5\u5728\u4efb\u4f55\u5730\u65b9\u4f7f\u7528\u94a9\u5b50\uff0c\u4e0d\u9700\u8981\u63d0\u4f9b provider\u3002 \u57fa\u4e8e selector \u83b7\u53d6\u60a8\u7684\u76ee\u6807\u72b6\u6001\uff0c\u7ec4\u4ef6\u5c06\u5728\u72b6\u6001\u66f4\u6539\u65f6\u91cd\u65b0\u6e32\u67d3\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function BearCounter() {\r\n  const bears = useBearStore((state) => state.bears)\r\n  return <h1>{bears} around here ...</h1>\r\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u66f4\u65b0\u76ee\u6807\u72b6\u6001\uff1abears"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-tsx",children:"function Controls() {\r\n  const increasePopulation = useBearStore((state) => state.increasePopulation)\r\n  return <button onClick={increasePopulation}>one up</button>\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u66f4\u591a\u4f7f\u7528\u65b9\u5f0f\uff0c\u8bf7\u53c2\u8003 ",(0,s.jsx)(n.a,{href:"https://zustand.docs.pmnd.rs/",children:"zustand"})]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},5404:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>c});var t=r(6672);const s={},o=t.createContext(s);function i(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);